(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(19)},16:function(e,t,a){},18:function(e,t,a){},19:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(7),o=a.n(r);a(16),a(17),a(18);var c=function(){return l.a.createElement("header",null,l.a.createElement("p",null,"Devfest Ogbomoso Photo Caption"))},i=a(8),s=a(1),m=a(2),d=a(4),h=a(3),u=a(5),f=a(9),p=a.n(f),g=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).handleUploadAlt=function(){a.refs.imgUpload.click()},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"steps-container"},l.a.createElement("label",null,l.a.createElement("span",{className:"label"},"Step 1:"),l.a.createElement("input",{ref:"imgUpload",style:{display:"none"},type:"file",accept:"image/*",onChange:this.props.eventHandler.handleImage})),l.a.createElement("button",{onClick:this.handleUploadAlt},"Upload your Picture"),l.a.createElement("br",null),l.a.createElement("span",null,"For best results, use a square image"))}}]),t}(l.a.Component);var v=function(e){return l.a.createElement("form",{onSubmit:e.eventHandler.handleText},l.a.createElement("label",{className:"steps-container"},l.a.createElement("span",{className:"label"},"Step 2:"),l.a.createElement("input",{type:"text",value:e.fullName,name:"fullName",placeholder:"Enter your Name",onChange:e.eventHandler.handleInput})),l.a.createElement("div",{className:"flexbox steps-container"},l.a.createElement("span",{className:"label"},"Step 3:"),l.a.createElement("button",null,"Generate Photo Caption")))},w=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(l)))).state={fullName:"",userUpload:null},a.drawUserImage=function(){var e=a.refs.canvas.getContext("2d"),t=a.refs.userImg;t.onload=function(){if(t.width===t.height)e.drawImage(t,62,282,370,370);else{var a=370/t.width,n=370/t.height,l=Math.min(a,n),r=370-t.width*l;if(0===r)r=62;else if(r<62){r=62+r/2}var o=370-t.height*l;if(0===o)o=282;else if(o<282){o=282+o/2}e.clearRect(62,282,370,370),e.drawImage(t,0,0,t.width,t.height,r,o,t.width*l,t.height*l)}}},a.handleInput=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(i.a)({},n,l))},a.handleImage=function(e){e.preventDefault(),a.setState({userUpload:URL.createObjectURL(e.target.files[0])}),a.drawUserImage()},a.handleText=function(e){e.preventDefault();var t=a.refs.canvas,n=t.getContext("2d"),l=a.state.fullName,r=a.refs.canvasImg,o=a.refs.userImg;if(l){if(n.clearRect(375,0,t.width,t.height),n.drawImage(r,0,0,t.width,t.height),o)if(o.width===o.height)n.drawImage(o,62,282,370,370);else{var c=370/o.width,i=370/o.height,s=Math.min(c,i),m=370-o.width*s;if(0===m)m=62;else if(m<62){m=62+m/2}var d=370-o.height*s;if(0===d)d=282;else if(d<282){d=282+d/2}n.clearRect(62,282,370,370),n.drawImage(o,0,0,o.width,o.height,m,d,o.width*s,o.height*s)}n.fillText(l.toUpperCase(),484,400,580),a.refs.download.style.display="block"}},a.handleDownload=function(e){var t=a.refs.canvas.toDataURL(),n=document.createElement("a");n.download="Devfest Ogbomoso.jpg",n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},a}return Object(u.a)(t,e),Object(m.a)(t,[{key:"componentDidMount",value:function(){var e=this.refs.canvas,t=e.getContext("2d"),a=this.refs.canvasImg;t.font="55px arial",t.fillStyle="white",a.onload=function(){t.drawImage(a,0,0,e.width,e.height)}}},{key:"render",value:function(){return l.a.createElement("div",{className:"row justify-content-md-center"},l.a.createElement("div",{className:"col-md-auto"},l.a.createElement(g,{eventHandler:this}),l.a.createElement(v,{eventHandler:this}),l.a.createElement("div",{ref:"download",className:"flexbox steps-container",style:{display:"none"}},l.a.createElement("span",{className:"label"},"Step 4:"),l.a.createElement("button",{onClick:this.handleDownload},"Download"))),l.a.createElement("div",{className:"col-md-auto"},l.a.createElement("canvas",{ref:"canvas",width:1080,height:1080}),l.a.createElement("img",{style:{display:"none"},ref:"canvasImg",src:p.a,alt:""}),l.a.createElement("img",{style:{display:"none"},ref:"userImg",src:this.state.userUpload,alt:""})))}}]),t}(l.a.Component);var E=function(){return l.a.createElement("footer",null,l.a.createElement("hr",null),l.a.createElement("span",null,"Photo Caption for ",l.a.createElement("a",{href:"https://twitter.com/gdgogbomoso"},"GDG Ogbomoso"),"'s Dvfest 2019"))};var b=function(){return l.a.createElement("div",{className:"container"},l.a.createElement(c,null),l.a.createElement(w,null),l.a.createElement(E,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(l.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,t,a){e.exports=a.p+"static/media/devfest-photo-caption.6fafc51a.jpg"}},[[10,1,2]]]);
//# sourceMappingURL=main.e7e2d3c3.chunk.js.map